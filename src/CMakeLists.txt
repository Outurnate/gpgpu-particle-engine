CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
PROJECT(gpgpu-particle-engine)
SET(gpgpu-particle-engine_VERSION_MAJOR 1)
SET(gpgpu-particle-engine_VERSION_MINOR 0)
SET(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${CMAKE_SOURCE_DIR}/../CMakeModules)
IF(${CMAKE_SYSTEM_NAME} MATCHES "Windows")
  ADD_DEFINITIONS(-DWIN32)
ENDIF(${CMAKE_SYSTEM_NAME} MATCHES "Windows")
IF(${CMAKE_SYSTEM_NAME} MATCHES "Linux")
  ADD_DEFINITIONS(-DLINUX)
ENDIF(${CMAKE_SYSTEM_NAME} MATCHES "Linux")
FIND_PACKAGE(OpenCL REQUIRED)
FIND_PACKAGE(OpenGL REQUIRED)
CONFIGURE_FILE(
  "${PROJECT_SOURCE_DIR}/config.h.in"
  "${PROJECT_BINARY_DIR}/config.h"
)
INCLUDE_DIRECTORIES(${PROJECT_BINARY_DIR} ${OPENCL_INCLUDE_DIR} ${OPENGL_INCLUDE_DIRS})
ADD_EXECUTABLE(gpgpu-particle-engine main.cpp frame.cpp)
TARGET_LINK_LIBRARIES(gpgpu-particle-engine glfw ${OPENCL_LIBRARY} ${OPENGL_LIBRARIES})
